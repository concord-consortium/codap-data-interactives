(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{399:function(t,e,r){t.exports=r(534)},404:function(t,e,r){},420:function(t,e,r){},534:function(t,e,r){"use strict";r.r(e);var n=r(45),o=r.n(n),a=r(223),i=r.n(a),c=(r(404),r(80)),u=r(8),s=r(9),l=r(14),h=r(3),f=r(13),p=r(25),d=r(72),v=r(397),y=r(392),m=null,g="preinit",w={countDiReq:0,countDiRplSuccess:0,countDiRplFail:0,countDiRplTimeout:0,countCodapReq:0,countCodapUnhandledReq:0,countCodapRplSuccess:0,countCodapRplFail:0,timeDiFirstReq:null,timeDiLastReq:null,timeCodapFirstReq:null,timeCodapLastReq:null},b=null,x={},E=[];function O(t,e){return"*"===e||t.startsWith(e)}function L(t,e){var r=t.action,n=t.resource,o=t.values,a={success:!0};g="active",w.countCodapReq+=1,w.timeCodapLastReq=new Date,w.timeCodapFirstReq||(w.timeCodapFirstReq=w.timeCodapLastReq),"notify"!==r||Array.isArray(o)||(o=[o]);var i=!1,c=!0;return"get"===r||"update"===r?(E.some(function(e){var o=!1;try{if(e.actionSpec===r&&O(n,e.resourceSpec)){var i=e.handler(t);i&&i.success?w.countCodapRplSuccess++:w.countCodapRplFail++,a=i,o=!0}}catch(c){o=!0}return o}),i||w.countCodapUnhandledReq++):"notify"===r&&o.forEach(function(t){E.forEach(function(e){if(i=!1,e.actionSpec===r&&O(n,e.resourceSpec)&&(!e.operation||e.operation===t.operation&&e.handler)){var o=e.handler({action:r,resource:n,values:t});o&&o.success?w.countCodapRplSuccess++:w.countCodapRplFail++,c=c&&!!o&&o.success,i=!0}}),i||w.countCodapUnhandledReq++}),e(a)}var j={stats:w,init:function(t,e){var r=this;return new Promise(function(n,o){var a={action:"update",resource:"interactiveFrame",values:{name:t.name,title:t.title,version:t.version,dimensions:t.dimensions,preventBringToFront:t.preventBringToFront,preventDataContextReorg:t.preventDataContextReorg}};return b=t,m=new y.IframePhoneRpcEndpoint(L,"data-interactive",window.parent),b.customInteractiveStateHandler||r.on("get","interactiveState",function(){return{success:!0,values:r.getInteractiveState()}}.bind(r)),r.sendRequest([a,{action:"get",resource:"interactiveFrame"}]).then(function(a){var i=a&&a[1]&&a[1].success,c=i&&a[1].values,u=c&&c.savedState;r.updateInteractiveState(u),i?(t.stateHandler&&t.stateHandler(u),n(u)):o(a?a[1]&&a[1].values&&a[1].values.error||"unknown failure":"Connection request to CODAP timed out."),e&&e(u)},o)}.bind(this))},getConnectionState:function(){return g},getStats:function(){return w},getConfig:function(){return b},getInteractiveState:function(){return x},updateInteractiveState:function(t){t&&(x=Object.assign(x,t))},destroy:function(){m=null},sendRequest:function(t,e){return new Promise(function(r,n){switch(g){case"closed":n("sendRequest on closed CODAP connection: "+JSON.stringify(t));break;case"preinit":default:m&&(w.countDiReq++,w.timeDiLastReq=new Date,w.timeDiFirstReq||(w.timeCodapFirstReq=w.timeDiLastReq),m.call(t,function(o){!function(t,e,o){void 0===e?(n("handleResponse: CODAP request timed out: "+JSON.stringify(t)),w.countDiRplTimeout++):(g="active",e.success?w.countDiRplSuccess++:w.countDiRplFail++,r(e)),o&&o(e,t)}(t,o,e)}))}})},on:function(t,e,r,n){var o,a,i="notify",c=Array.prototype.slice.call(arguments);["get","update","notify"].indexOf(c[0])>=0&&(i=c.shift()),o=c.shift(),"function"!==typeof c[0]&&(a=c.shift());var u={actionSpec:i,resourceSpec:o,operation:a,handler:c.shift()};E.push(u)},parseResourceSelector:function(t){var e=/([A-Za-z0-9_-]+)\[([^\]]+)]/,r={};return t.split(".").forEach(function(t){var n,o,a=e.exec(t);e.test(t)&&a?(n=a[1],o=a[2],r[n]=o,r.type=n):r.type=t}),r}};r(406),r(407);function S(){S=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new _(n||[]);return o(i,"_invoke",{value:k(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(R([])));E&&E!==r&&n.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){function r(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return r("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=h(e,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function C(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(j.prototype),s(j.prototype,c,function(){return this}),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;D(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var k={name:"",title:"",id:0};function C(t,e,r,n){var o={name:t,version:e,dimensions:r,preventDataContextReorg:!1,preventBringToFront:!0,cannotClose:!0};return j.init(o,n)}var N=function(t){return"dataContext[".concat(t,"]")};function D(t){return _.apply(this,arguments)}function _(){return(_=Object(c.a)(S().mark(function t(e){var r,n,o,a;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,j.sendRequest({action:"get",resource:"dataContextList"}).catch(function(t){console.log("unable to get datacontext list because "+t)});case 3:if((n=t.sent)&&n.success){t.next=8;break}return t.abrupt("return",[]);case 8:for(o=0;o<n.values.length;o++)a=n.values[o],e(a)&&r.push({title:a.title,name:a.name,id:a.id});case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function R(){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(S().mark(function t(){var e;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(function(){return!0});case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return t.name}));case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function F(t){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(S().mark(function t(e){var r;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:return r=t.sent,t.abrupt("return",r.indexOf(e)>=0);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function I(t){return G.apply(this,arguments)}function G(){return(G=Object(c.a)(S().mark(function t(e){var r;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.sendRequest({action:"get",resource:N(e.toString())}).catch(function(t){console.log("unable to get datacontext "+t)});case 2:if((r=t.sent)&&r.success){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",r.values);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function q(t){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(S().mark(function t(e){var r,n,o,a;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.name||""===e.title){t.next=12;break}return t.next=3,A("caseCard",e.title,e.name);case 3:return r=t.sent,n=r>=0,t.next=7,A("caseTable",e.title,e.name);case 7:if(o=t.sent,a=o>=0,n||a){t.next=12;break}return t.next=12,j.sendRequest({action:"create",resource:"component",values:{type:"caseTable",name:e.name,title:e.title,dataContext:e.name}});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function A(t,e,r){return z.apply(this,arguments)}function z(){return(z=Object(c.a)(S().mark(function t(e,r,n){var o,a,i;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.sendRequest({action:"get",resource:"componentList"}).catch(function(){console.log("Error getting component list")});case 2:return o=t.sent,a=-1,o.success&&(i=o.values.find(function(t){return t.type===e&&(t.title===r||t.name===n)}))&&(a=i.id),t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function H(t){return B.apply(this,arguments)}function B(){return(B=Object(c.a)(S().mark(function t(e){var r,n,o,a;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={parentCollectionName:"",attrNames:[]},t.next=3,j.sendRequest({action:"get",resource:N(e.name)}).catch(function(t){console.log("unable to get datacontext "+t)});case 3:return(n=t.sent)&&n.success&&(o=n.values.collections).length>1&&(a=o[0],r.parentCollectionName=a.name,a.attrs.forEach(function(t){r.attrNames.push(t.name)})),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Y(t,e){return J.apply(this,arguments)}function J(){return(J=Object(c.a)(S().mark(function t(e,r){var n;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.sendRequest({action:"get",resource:"".concat(N(e),".collection[").concat(r,"].caseCount")}).catch(function(t){console.log("unable to get datacontext "+t)});case 2:if(!(n=t.sent)||!n.success){t.next=5;break}return t.abrupt("return",n.values);case 5:return t.abrupt("return",0);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function U(t){return V.apply(this,arguments)}function V(){return(V=Object(c.a)(S().mark(function t(e){var r,n;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,j.sendRequest({action:"get",resource:N(e)}).catch(function(t){console.log("unable to get datacontext "+t)});case 3:return(n=t.sent)&&n.success&&n.values.collections.forEach(function(t){t.attrs.forEach(function(t){r.push(t.name)})}),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}var W="Collect Measures",Z="0.2",K={width:280,height:385},Q={name:"Collected Measures",title:"Collected Measures",collectionName:"Measures",collectionTitle:"Measures"},X=r(360);function $(){$=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(_([])));E&&E!==r&&n.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){function r(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return r("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=k(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=h(e,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function k(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(j.prototype),s(j.prototype,c,function(){return this}),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function tt(t){return et.apply(this,arguments)}function et(){return(et=Object(c.a)($().mark(function t(e){var r,n,o;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Q,t.next=3,F(r.name);case 3:if(t.sent){t.next=9;break}return t.next=7,j.sendRequest({action:"create",resource:"dataContext",values:{name:r.name,title:r.title,collections:[{name:r.collectionName,title:r.collectionTitle,attrs:[{name:"Sample",description:"Sample number"}]}]}}).catch(function(t){console.log("unable to create datacontext "+t)});case 7:(n=t.sent)&&n.success&&(e.id=n.values.id,e.name=n.values.name,e.title=n.values.title);case 9:if(e.id){t.next=14;break}return t.next=12,I(r.name);case 12:(o=t.sent)&&(e.id=o.id,e.name=o.name,e.title=o.title);case 14:q(e);case 15:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rt(t){return nt.apply(this,arguments)}function nt(){return(nt=Object(c.a)($().mark(function t(e){var r,n,o,a,i,c,u,s,l;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Q,t.next=3,H(e.chosenSourceDataset);case 3:return n=t.sent,t.next=6,U(r.name);case 6:if(o=t.sent,!((a=n.attrNames.filter(function(t){return!o.includes(t)})).length>0)){t.next=12;break}return t.next=11,j.sendRequest({action:"create",resource:"dataContext[".concat(r.name,"].collection[").concat(r.collectionName,"].attribute"),values:a.map(function(t){return{name:t}})}).catch(function(t){console.log("unable to create attributes because "+t)});case 11:t.sent;case 12:return i=e.chosenSourceDataset?e.chosenSourceDataset.name:"",c=n.parentCollectionName,t.next=15,j.sendRequest({action:"get",resource:"dataContext[".concat(i,"].collection[").concat(c,"].caseFormulaSearch[true]")}).catch(function(t){console.log("unable to get case because "+t)});case 15:if(!(u=t.sent)||!u.success){t.next=24;break}return t.next=19,Y(r.name,r.collectionName);case 19:return s=t.sent,l=u.values.map(function(t){var e=t.values;return e.Sample=s+1,e}),t.next=23,j.sendRequest({action:"create",resource:"dataContext[".concat(r.name,"].item"),values:l}).catch(function(t){console.log("unable to create case because "+t)});case 23:t.sent;case 24:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ot(t){return at.apply(this,arguments)}function at(){return(at=Object(c.a)($().mark(function t(e){var r,n,o;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,t.next=3,j.sendRequest({action:"get",resource:"dataContext[".concat(e,"]")}).catch(function(t){console.log("unable to get data context because "+t)});case 3:return(n=t.sent)&&n.success&&(o=n.values.collections)&&o.forEach(function(t){t.attrs&&t.attrs.forEach(function(t){t.formula&&t.formula.includes("random")&&(r=!0)})}),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function it(t){return ct.apply(this,arguments)}function ct(){return(ct=Object(c.a)($().mark(function t(e){var r,n,o;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,t.next=3,j.sendRequest({action:"get",resource:"dataContext[".concat(e,"]")}).catch(function(t){console.log("unable to get data context because "+t)});case 3:return(n=t.sent)&&n.success&&(o=n.values.collections,r=o&&o.length>1),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}r(420);var ut=r(393);function st(){st=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(_([])));E&&E!==r&&n.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){function r(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return r("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=k(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=h(e,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function k(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(j.prototype),s(j.prototype,c,function(){return this}),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var lt=function(){function t(){Object(u.a)(this,t),this.index="",this.availableSourceDatasets=[],this.chosenSourceDataset=void 0,this.chosenSourceParentCollectionInfo=void 0,this.chosenHasRandomness=!1,this.chosenHasMeasures=!1,this.collectMeasuresDataset=void 0,this.numberOfRepetitions=10,Object(d.k)(this,{},{autoBind:!0})}return Object(s.a)(t,[{key:"initialize",value:function(){var t=Object(c.a)(st().mark(function t(){var e=this;return st().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this,this.collectMeasuresDataset||(this.collectMeasuresDataset=Object(ut.a)({},k)),t.next=4,this.updateSourceDatasets();case 4:Object(d.e)(Object(c.a)(st().mark(function t(){return st().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.chosenSourceDataset){t.next=3;break}return t.next=3,e.checkForRandomnessAndMeasures();case 3:case"end":return t.stop()}},t)})));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"updateSourceDatasets",value:function(){var t=Object(c.a)(st().mark(function t(){var e,r=this;return st().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(function(t){return t.name!==Q.name});case 2:this.availableSourceDatasets=t.sent,this.chosenSourceDataset&&((e=this.availableSourceDatasets.findIndex(function(t){var e=r.chosenSourceDataset&&r.chosenSourceDataset.name;return t.name===e}))<0?Object(d.d)(function(){return r.chosenSourceDataset=void 0})():Object(d.d)(function(){return r.chosenSourceDataset=r.availableSourceDatasets[e]})()),!this.chosenSourceDataset&&this.availableSourceDatasets.length>0&&Object(d.d)(function(){return r.chosenSourceDataset=r.availableSourceDatasets[0]})();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"checkForRandomnessAndMeasures",value:function(){var t=Object(c.a)(st().mark(function t(){var e,r,n,o;return st().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=(e=this).chosenSourceDataset&&e.chosenSourceDataset.name)){t.next=11;break}return t.next=5,ot(r);case 5:return n=t.sent,t.next=8,it(r);case 8:o=t.sent,Object(d.d)(function(){return e.chosenHasRandomness=n})(),Object(d.d)(function(){return e.chosenHasMeasures=o})();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"asJSON",value:function(){return{chosenSourceDataset:Object(d.o)(this.chosenSourceDataset),collectMeasuresDataset:Object(d.o)(this.collectMeasuresDataset),numberOfRepetitions:this.numberOfRepetitions}}},{key:"fromJSON",value:function(t){var e=this;t&&Object(d.n)(function(){e.chosenSourceDataset=t.chosenSourceDataset,e.collectMeasuresDataset=t.collectMeasuresDataset,e.numberOfRepetitions=t.numberOfRepetitions})}}]),t}(),ht=r(394);function ft(){ft=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(_([])));E&&E!==r&&n.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){function r(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return r("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=k(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=h(e,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function k(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(j.prototype),s(j.prototype,c,function(){return this}),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var pt=function(){function t(e){Object(u.a)(this,t),this.store=void 0,this.store=e,this.handleDataContextChange=this.handleDataContextChange.bind(this),this.handleInternalChanges=this.handleInternalChanges.bind(this),j.on("notify","*","dataContextCountChanged",this.handleDataContextChange),j.on("notify","*","titleChange",this.handleDataContextChange),j.on("notify","*","edit formula",this.handleInternalChanges),j.on("notify","*","updateAttributes",this.handleInternalChanges),j.on("notify","*","updateCases",this.handleInternalChanges),j.on("notify","*","dependentCases",this.handleInternalChanges),j.on("notify","*","createCollection",this.handleInternalChanges),j.on("notify","*","deleteCollection",this.handleInternalChanges)}return Object(s.a)(t,[{key:"handleDataContextChange",value:function(){var t=Object(c.a)(ft().mark(function t(){var e=this;return ft().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(d.d)(Object(c.a)(ft().mark(function t(){return ft().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.updateSourceDatasets();case 2:case"end":return t.stop()}},t)})))();case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"handleInternalChanges",value:function(){var t=Object(c.a)(ft().mark(function t(){var e=this;return ft().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(d.d)(Object(c.a)(ft().mark(function t(){return ft().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.checkForRandomnessAndMeasures();case 2:case"end":return t.stop()}},t)})))();case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}]),t}(),dt=r(398),vt=r(396);function yt(){yt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new D(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(_([])));E&&E!==r&&n.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){function r(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return r("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){r(t,n,e,o)})}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=k(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=h(e,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function k(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(j.prototype),s(j.prototype,c,function(){return this}),e.AsyncIterator=j,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}var mt=Object(v.a)(function(t){function e(t){var r;return Object(u.a)(this,e),(r=Object(l.a)(this,Object(h.a)(e).call(this,t))).ref=void 0,r.store=void 0,r.notificationManager=void 0,r.state={hasError:!1,isLoaded:!1,showingInfo:!1,collectionInProgress:!1},r.ref=o.a.createRef(),r.store=new lt,r.notificationManager=new pt(r.store),r.restorePluginFromStore=r.restorePluginFromStore.bind(Object(p.a)(Object(p.a)(r))),r.getPluginStore=r.getPluginStore.bind(Object(p.a)(Object(p.a)(r))),j.on("update","interactiveState","",r.restorePluginFromStore),j.on("get","interactiveState","",r.getPluginStore),r}return Object(f.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=Object(c.a)(yt().mark(function t(){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(W,Z,K,this.restorePluginFromStore);case 2:return t.next=4,this.store.initialize();case 4:this.setState({isLoaded:!0});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidCatch",value:function(t,e){console.log(t,e)}},{key:"getPluginStore",value:function(){return{success:!0,values:{store:this.store.asJSON()}}}},{key:"restorePluginFromStore",value:function(){var t=Object(c.a)(yt().mark(function t(e){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e&&this.store.fromJSON(e.store);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"rerandomize",value:function(){var t=Object(c.a)(yt().mark(function t(){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.store.chosenSourceDataset){t.next=3;break}return t.next=3,j.sendRequest({action:"update",resource:N(this.store.chosenSourceDataset.name||""),values:{rerandomize:!0}}).catch(function(t){console.log("unable to rerandomize because "+t)});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"collectMeasuresOnce",value:function(){var t=Object(c.a)(yt().mark(function t(){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt(this.store.collectMeasuresDataset);case 2:return t.next=4,rt(this.store);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"repeatedMeasuresCollection",value:function(){var t=Object(c.a)(yt().mark(function t(){var e,r;return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({collectionInProgress:!0}),e=!0,r=this.store.numberOfRepetitions;case 3:if(!(r>0&&(this.state.collectionInProgress||e))){t.next=12;break}return e=!1,t.next=7,this.rerandomize();case 7:return t.next=9,this.collectMeasuresOnce();case 9:r--,t.next=3;break;case 12:this.setState({collectionInProgress:!1});case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getAppropriateButton",value:function(){var t=this,e=this.store,r=e.chosenSourceDataset?e.chosenSourceDataset.title:"";return this.state.collectionInProgress?o.a.createElement("button",{onClick:function(){t.setState({collectionInProgress:!1})}},"Stop Collecting Measures"):o.a.createElement("button",{disabled:!e.chosenHasRandomness||!e.chosenHasMeasures,onClick:function(){t.repeatedMeasuresCollection()}},"Re-randomize and Collect Measures ".concat(e.numberOfRepetitions," Times from ").concat(r))}},{key:"rerandomizeNote",value:function(){return this.store.chosenSourceDataset?this.store.chosenHasRandomness?null:o.a.createElement("p",{className:"note"},"Nothing in dataset to randomize"):o.a.createElement("p",{className:"note"},"No dataset chosen")}},{key:"collectMeasuresNote",value:function(){return this.store.chosenSourceDataset?this.store.chosenHasMeasures?null:o.a.createElement("p",{className:"note"},"No measures in dataset to collect"):o.a.createElement("p",{className:"note"},"No dataset chosen")}},{key:"infoPage",value:function(){var t=this;return o.a.createElement("div",{className:"cm-info"},o.a.createElement("h3",null,"About Collect Measures"),o.a.createElement("p",null,"This plugin is useful for creating certain classes of simulations in CODAP."),o.a.createElement("ul",null,o.a.createElement("li",null,"There is a dataset with attributes with formulas using random functions."),o.a.createElement("li",null,"The dataset has two collections."),o.a.createElement("li",null,'The collection on the left has attributes that compute "measures" from the cases in the collection on the right.')),o.a.createElement("p",null,o.a.createElement("b",null,"Example"),": The collection on the right has 10 cases and one attribute, ",o.a.createElement("b",null,"Face"),", whose formula is ",o.a.createElement("code",null,"randomPick(1,2,3,4,5,6)"),'. The collection on the left has one attribute, "Sum", with the formula ',o.a.createElement("code",null,"sum(Face)"),". The plugin collects the sum of the faces of the 10 dice to build up the distribution of sums."),o.a.createElement("button",{onClick:function(){return t.setState({showingInfo:!1})}},"Back"))}},{key:"render",value:function(){var t=this,e=this.store,r=e.chosenSourceDataset?e.chosenSourceDataset.title:"";return this.state.hasError?o.a.createElement("h1",null,"Something went wrong!"):this.state.showingInfo?o.a.createElement("div",null,this.infoPage()):o.a.createElement("div",{className:"collect-measures"},o.a.createElement("div",{className:"cm-header"},o.a.createElement("div",{className:"cm-title-with-icon"},o.a.createElement("h2",null,"Collect Measures"),o.a.createElement("div",{className:"cm-info-icon",onClick:function(){return t.setState({showingInfo:!0})}},o.a.createElement(dt.a,{icon:vt.a,title:"Click to get information on how to use this plugin"}))),o.a.createElement("p",null,"Choose a dataset, typically one that has attributes with formulas that produce random values.")),function(){function t(){return(t=Object(c.a)(yt().mark(function t(r){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.chosenSourceDataset=e.availableSourceDatasets.find(function(t){return t.title===r});case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}var n,a,i,u,s,l,h,f=e.availableSourceDatasets.map(function(t){return t.title});return n="Choose a dataset",a="Choose from",i="Choose a dataset to be rerandomized and whose measures will be collected",u=f,s=r,l="No datasets to choose from",h=function(e){return t.apply(this,arguments)},o.a.createElement("div",{className:"sq-choice"},o.a.createElement("span",null,n,":"),o.a.createElement(X.SelectBox,{dataSource:u,placeholder:a,hint:i,value:s,noDataText:l,style:{display:"inline-block"},onValueChange:Object(d.d)(function(){var t=Object(c.a)($().mark(function t(e){return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h(e));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),width:"100%"}))}(),o.a.createElement("div",{className:"cm-two-buttons"},o.a.createElement("div",null,o.a.createElement("button",{disabled:!e.chosenHasRandomness,onClick:function(){t.rerandomize()}},"Re-randomize ".concat(r)),this.rerandomizeNote()),o.a.createElement("div",null,o.a.createElement("button",{disabled:!e.chosenHasMeasures,onClick:function(){t.collectMeasuresOnce()}},"Collect Measures Once from ".concat(r)),this.collectMeasuresNote())),o.a.createElement("div",{className:"cm-number-box"},o.a.createElement("span",null,"Number of repetitions"),o.a.createElement(ht.NumberBox,{height:25,width:50,defaultValue:e.numberOfRepetitions,onValueChanged:function(){var t=Object(c.a)(yt().mark(function t(r){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(d.d)(function(){e.numberOfRepetitions=r.value})();case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()})),this.getAppropriateButton())}}]),e}(n.Component));i.a.render(o.a.createElement(mt,null),document.getElementById("root"))}},[[399,1,2]]]);
//# sourceMappingURL=main.51428674.chunk.js.map