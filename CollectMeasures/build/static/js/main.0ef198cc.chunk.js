(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{399:function(t,e,n){t.exports=n(534)},404:function(t,e,n){},420:function(t,e,n){},534:function(t,e,n){"use strict";n.r(e);var r=n(45),o=n.n(r),a=n(223),i=n.n(a),c=(n(404),n(80)),u=n(8),s=n(9),l=n(14),h=n(3),f=n(13),p=n(25),d=n(72),v=n(397),y=n(392),m=null,g="preinit",w={countDiReq:0,countDiRplSuccess:0,countDiRplFail:0,countDiRplTimeout:0,countCodapReq:0,countCodapUnhandledReq:0,countCodapRplSuccess:0,countCodapRplFail:0,timeDiFirstReq:null,timeDiLastReq:null,timeCodapFirstReq:null,timeCodapLastReq:null},b=null,x={},E=[];function O(t,e){return"*"===e||t.startsWith(e)}function L(t,e){var n=t.action,r=t.resource,o=t.values,a={success:!0};g="active",w.countCodapReq+=1,w.timeCodapLastReq=new Date,w.timeCodapFirstReq||(w.timeCodapFirstReq=w.timeCodapLastReq),"notify"!==n||Array.isArray(o)||(o=[o]);var i=!1,c=!0;return"get"===n||"update"===n?(E.some(function(e){var o=!1;try{if(e.actionSpec===n&&O(r,e.resourceSpec)){var i=e.handler(t);i&&i.success?w.countCodapRplSuccess++:w.countCodapRplFail++,a=i,o=!0}}catch(c){o=!0}return o}),i||w.countCodapUnhandledReq++):"notify"===n&&o.forEach(function(t){E.forEach(function(e){if(i=!1,e.actionSpec===n&&O(r,e.resourceSpec)&&(!e.operation||e.operation===t.operation&&e.handler)){var o=e.handler({action:n,resource:r,values:t});o&&o.success?w.countCodapRplSuccess++:w.countCodapRplFail++,c=c&&!!o&&o.success,i=!0}}),i||w.countCodapUnhandledReq++}),e(a)}var S={stats:w,init:function(t,e){var n=this;return new Promise(function(r,o){var a={action:"update",resource:"interactiveFrame",values:{name:t.name,title:t.title,version:t.version,dimensions:t.dimensions,preventBringToFront:t.preventBringToFront,preventDataContextReorg:t.preventDataContextReorg}};return b=t,m=new y.IframePhoneRpcEndpoint(L,"data-interactive",window.parent),b.customInteractiveStateHandler||n.on("get","interactiveState",function(){return{success:!0,values:n.getInteractiveState()}}.bind(n)),n.sendRequest([a,{action:"get",resource:"interactiveFrame"}]).then(function(a){var i=a&&a[1]&&a[1].success,c=i&&a[1].values,u=c&&c.savedState;n.updateInteractiveState(u),i?(t.stateHandler&&t.stateHandler(u),r(u)):o(a?a[1]&&a[1].values&&a[1].values.error||"unknown failure":"Connection request to CODAP timed out."),e&&e(u)},o)}.bind(this))},getConnectionState:function(){return g},getStats:function(){return w},getConfig:function(){return b},getInteractiveState:function(){return x},updateInteractiveState:function(t){t&&(x=Object.assign(x,t))},destroy:function(){m=null},sendRequest:function(t,e){return new Promise(function(n,r){switch(g){case"closed":r("sendRequest on closed CODAP connection: "+JSON.stringify(t));break;case"preinit":default:m&&(w.countDiReq++,w.timeDiLastReq=new Date,w.timeDiFirstReq||(w.timeCodapFirstReq=w.timeDiLastReq),m.call(t,function(o){!function(t,e,o){void 0===e?(r("handleResponse: CODAP request timed out: "+JSON.stringify(t)),w.countDiRplTimeout++):(g="active",e.success?w.countDiRplSuccess++:w.countDiRplFail++,n(e)),o&&o(e,t)}(t,o,e)}))}})},on:function(t,e,n,r){var o,a,i="notify",c=Array.prototype.slice.call(arguments);["get","update","notify"].indexOf(c[0])>=0&&(i=c.shift()),o=c.shift(),"function"!==typeof c[0]&&(a=c.shift());var u={actionSpec:i,resourceSpec:o,operation:a,handler:c.shift()};E.push(u)},parseResourceSelector:function(t){var e=/([A-Za-z0-9_-]+)\[([^\]]+)]/,n={};return t.split(".").forEach(function(t){var r,o,a=e.exec(t);e.test(t)&&a?(r=a[1],o=a[2],n[r]=o,n.type=r):n.type=t}),n}};n(406),n(407);function j(){j=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new _(r||[]);return o(i,"_invoke",{value:k(t,n,c)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(R([])));E&&E!==n&&r.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function S(t,e){function n(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e(function(e,o){n(t,r,e,o)})}return a=a?a.then(o,o):o()}})}function k(e,n,r){var o=f;return function(a,i){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=C(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=h(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(S.prototype),s(S.prototype,c,function(){return this}),e.AsyncIterator=S,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new S(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var k={name:"",title:"",id:0};function C(t,e,n,r){var o={name:t,version:e,dimensions:n,preventDataContextReorg:!1,preventBringToFront:!0,cannotClose:!0};return S.init(o,r)}var N=function(t){return"dataContext[".concat(t,"]")};function D(t){return _.apply(this,arguments)}function _(){return(_=Object(c.a)(j().mark(function t(e){var n,r,o,a;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,S.sendRequest({action:"get",resource:"dataContextList"}).catch(function(t){console.log("unable to get datacontext list because "+t)});case 3:if((r=t.sent)&&r.success){t.next=8;break}return t.abrupt("return",[]);case 8:for(o=0;o<r.values.length;o++)a=r.values[o],e(a)&&n.push({title:a.title,name:a.name,id:a.id});case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function R(){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(j().mark(function t(){var e;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(function(){return!0});case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return t.name}));case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function F(t){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(j().mark(function t(e){var n;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:return n=t.sent,t.abrupt("return",n.indexOf(e)>=0);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function I(t){return G.apply(this,arguments)}function G(){return(G=Object(c.a)(j().mark(function t(e){var n;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.sendRequest({action:"get",resource:N(e.toString())}).catch(function(t){console.log("unable to get datacontext "+t)});case 2:if((n=t.sent)&&n.success){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",n.values);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function q(t){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(j().mark(function t(e){var n,r,o,a;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.name||""===e.title){t.next=12;break}return t.next=3,A("caseCard",e.title,e.name);case 3:return n=t.sent,r=n>=0,t.next=7,A("caseTable",e.title,e.name);case 7:if(o=t.sent,a=o>=0,r||a){t.next=12;break}return t.next=12,S.sendRequest({action:"create",resource:"component",values:{type:"caseTable",name:e.name,title:e.title,dataContext:e.name}});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function A(t,e,n){return z.apply(this,arguments)}function z(){return(z=Object(c.a)(j().mark(function t(e,n,r){var o,a,i;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.sendRequest({action:"get",resource:"componentList"}).catch(function(){console.log("Error getting component list")});case 2:return o=t.sent,a=-1,o.success&&(i=o.values.find(function(t){return t.type===e&&(t.title===n||t.name===r)}))&&(a=i.id),t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function H(t){return B.apply(this,arguments)}function B(){return(B=Object(c.a)(j().mark(function t(e){var n,r,o,a;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={parentCollectionName:"",attrNames:[]},t.next=3,S.sendRequest({action:"get",resource:N(e.name)}).catch(function(t){console.log("unable to get datacontext "+t)});case 3:return(r=t.sent)&&r.success&&(o=r.values.collections).length>1&&(a=o[0],n.parentCollectionName=a.name,a.attrs.forEach(function(t){n.attrNames.push(t.name)})),t.abrupt("return",n);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Y(t,e){return J.apply(this,arguments)}function J(){return(J=Object(c.a)(j().mark(function t(e,n){var r;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.sendRequest({action:"get",resource:"".concat(N(e),".collection[").concat(n,"].caseCount")}).catch(function(t){console.log("unable to get datacontext "+t)});case 2:if(!(r=t.sent)||!r.success){t.next=5;break}return t.abrupt("return",r.values);case 5:return t.abrupt("return",0);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function U(t){return V.apply(this,arguments)}function V(){return(V=Object(c.a)(j().mark(function t(e){var n,r;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,S.sendRequest({action:"get",resource:N(e)}).catch(function(t){console.log("unable to get datacontext "+t)});case 3:return(r=t.sent)&&r.success&&r.values.collections.forEach(function(t){t.attrs.forEach(function(t){n.push(t.name)})}),t.abrupt("return",n);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}var W="Collect Measures",Z="0.1",K={width:280,height:385},Q={name:"Collected Measures",title:"Collected Measures",parentCollectionName:"Samples",parentCollectionTitle:"Samples",childCollectionName:"Measures",childCollectionTitle:"Measures"},X=n(360);function $(){$=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new D(r||[]);return o(i,"_invoke",{value:j(t,n,c)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(_([])));E&&E!==n&&r.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function S(t,e){function n(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e(function(e,o){n(t,r,e,o)})}return a=a?a.then(o,o):o()}})}function j(e,n,r){var o=f;return function(a,i){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=k(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=h(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function k(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(S.prototype),s(S.prototype,c,function(){return this}),e.AsyncIterator=S,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new S(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=_,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function tt(t){return et.apply(this,arguments)}function et(){return(et=Object(c.a)($().mark(function t(e){var n,r,o;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Q,t.next=3,F(n.name);case 3:if(t.sent){t.next=9;break}return t.next=7,S.sendRequest({action:"create",resource:"dataContext",values:{name:n.name,title:n.title,collections:[{name:n.childCollectionName,title:n.childCollectionTitle,attrs:[]},{name:n.parentCollectionName,title:n.parentCollectionTitle,attrs:[{name:"Sample",title:"Sample"}]}]}}).catch(function(t){console.log("unable to create datacontext "+t)});case 7:(r=t.sent)&&r.success&&(e.id=r.values.id,e.name=r.values.name,e.title=r.values.title);case 9:if(e.id){t.next=14;break}return t.next=12,I(n.name);case 12:(o=t.sent)&&(e.id=o.id,e.name=o.name,e.title=o.title);case 14:q(e);case 15:case"end":return t.stop()}},t)}))).apply(this,arguments)}function nt(t){return rt.apply(this,arguments)}function rt(){return(rt=Object(c.a)($().mark(function t(e){var n,r,o,a,i,c,u,s,l;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Q,t.next=3,H(e.chosenSourceDataset);case 3:return r=t.sent,t.next=6,U(n.name);case 6:if(o=t.sent,!((a=r.attrNames.filter(function(t){return!o.includes(t)})).length>0)){t.next=12;break}return t.next=11,S.sendRequest({action:"create",resource:"dataContext[".concat(n.name,"].collection[").concat(n.childCollectionName,"].attribute"),values:a.map(function(t){return{name:t}})}).catch(function(t){console.log("unable to create attributes because "+t)});case 11:t.sent;case 12:return i=e.chosenSourceDataset?e.chosenSourceDataset.name:"",c=r.parentCollectionName,t.next=15,S.sendRequest({action:"get",resource:"dataContext[".concat(i,"].collection[").concat(c,"].caseFormulaSearch[true]")}).catch(function(t){console.log("unable to get case because "+t)});case 15:if(!(u=t.sent)||!u.success){t.next=24;break}return t.next=19,Y(n.name,n.parentCollectionName);case 19:return s=t.sent,l=u.values.map(function(t){var e=t.values;return e.Sample=s+1,e}),t.next=23,S.sendRequest({action:"create",resource:"dataContext[".concat(n.name,"].item"),values:l}).catch(function(t){console.log("unable to create case because "+t)});case 23:t.sent;case 24:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ot(t){return at.apply(this,arguments)}function at(){return(at=Object(c.a)($().mark(function t(e){var n,r,o;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.next=3,S.sendRequest({action:"get",resource:"dataContext[".concat(e,"]")}).catch(function(t){console.log("unable to get data context because "+t)});case 3:return(r=t.sent)&&r.success&&(o=r.values.collections)&&o.forEach(function(t){t.attrs&&t.attrs.forEach(function(t){t.formula&&t.formula.includes("random")&&(n=!0)})}),t.abrupt("return",n);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function it(t){return ct.apply(this,arguments)}function ct(){return(ct=Object(c.a)($().mark(function t(e){var n,r,o;return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.next=3,S.sendRequest({action:"get",resource:"dataContext[".concat(e,"]")}).catch(function(t){console.log("unable to get data context because "+t)});case 3:return(r=t.sent)&&r.success&&(o=r.values.collections,n=o&&o.length>1),t.abrupt("return",n);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}n(420);var ut=n(393);function st(){st=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new D(r||[]);return o(i,"_invoke",{value:j(t,n,c)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(_([])));E&&E!==n&&r.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function S(t,e){function n(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e(function(e,o){n(t,r,e,o)})}return a=a?a.then(o,o):o()}})}function j(e,n,r){var o=f;return function(a,i){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=k(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=h(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function k(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(S.prototype),s(S.prototype,c,function(){return this}),e.AsyncIterator=S,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new S(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=_,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var lt=function(){function t(){Object(u.a)(this,t),this.index="",this.availableSourceDatasets=[],this.chosenSourceDataset=void 0,this.chosenSourceParentCollectionInfo=void 0,this.chosenHasRandomness=!1,this.chosenHasMeasures=!1,this.collectMeasuresDataset=void 0,this.numberOfRepetitions=10,Object(d.k)(this,{},{autoBind:!0})}return Object(s.a)(t,[{key:"initialize",value:function(){var t=Object(c.a)(st().mark(function t(){var e=this;return st().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this,this.collectMeasuresDataset||(this.collectMeasuresDataset=Object(ut.a)({},k)),t.next=4,this.updateSourceDatasets();case 4:Object(d.e)(Object(c.a)(st().mark(function t(){return st().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.chosenSourceDataset){t.next=3;break}return t.next=3,e.checkForRandomnessAndMeasures();case 3:case"end":return t.stop()}},t)})));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"updateSourceDatasets",value:function(){var t=Object(c.a)(st().mark(function t(){var e,n=this;return st().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(function(t){return t.name!==Q.name});case 2:this.availableSourceDatasets=t.sent,this.chosenSourceDataset&&((e=this.availableSourceDatasets.findIndex(function(t){var e=n.chosenSourceDataset&&n.chosenSourceDataset.name;return t.name===e}))<0?Object(d.d)(function(){return n.chosenSourceDataset=void 0})():Object(d.d)(function(){return n.chosenSourceDataset=n.availableSourceDatasets[e]})()),!this.chosenSourceDataset&&this.availableSourceDatasets.length>0&&Object(d.d)(function(){return n.chosenSourceDataset=n.availableSourceDatasets[0]})();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"checkForRandomnessAndMeasures",value:function(){var t=Object(c.a)(st().mark(function t(){var e,n,r,o;return st().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=(e=this).chosenSourceDataset&&e.chosenSourceDataset.name)){t.next=11;break}return t.next=5,ot(n);case 5:return r=t.sent,t.next=8,it(n);case 8:o=t.sent,Object(d.d)(function(){return e.chosenHasRandomness=r})(),Object(d.d)(function(){return e.chosenHasMeasures=o})();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"asJSON",value:function(){return{chosenSourceDataset:Object(d.o)(this.chosenSourceDataset),collectMeasuresDataset:Object(d.o)(this.collectMeasuresDataset),numberOfRepetitions:this.numberOfRepetitions}}},{key:"fromJSON",value:function(t){var e=this;t&&Object(d.n)(function(){e.chosenSourceDataset=t.chosenSourceDataset,e.collectMeasuresDataset=t.collectMeasuresDataset,e.numberOfRepetitions=t.numberOfRepetitions})}}]),t}(),ht=n(394);function ft(){ft=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new D(r||[]);return o(i,"_invoke",{value:j(t,n,c)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(_([])));E&&E!==n&&r.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function S(t,e){function n(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e(function(e,o){n(t,r,e,o)})}return a=a?a.then(o,o):o()}})}function j(e,n,r){var o=f;return function(a,i){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=k(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=h(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function k(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(S.prototype),s(S.prototype,c,function(){return this}),e.AsyncIterator=S,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new S(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=_,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var pt=function(){function t(e){Object(u.a)(this,t),this.store=void 0,this.store=e,this.handleDataContextChange=this.handleDataContextChange.bind(this),this.handleInternalChanges=this.handleInternalChanges.bind(this),S.on("notify","*","dataContextCountChanged",this.handleDataContextChange),S.on("notify","*","titleChange",this.handleDataContextChange),S.on("notify","*","edit formula",this.handleInternalChanges),S.on("notify","*","updateAttributes",this.handleInternalChanges),S.on("notify","*","updateCases",this.handleInternalChanges),S.on("notify","*","dependentCases",this.handleInternalChanges),S.on("notify","*","createCollection",this.handleInternalChanges),S.on("notify","*","deleteCollection",this.handleInternalChanges)}return Object(s.a)(t,[{key:"handleDataContextChange",value:function(){var t=Object(c.a)(ft().mark(function t(){var e=this;return ft().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(d.d)(Object(c.a)(ft().mark(function t(){return ft().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.updateSourceDatasets();case 2:case"end":return t.stop()}},t)})))();case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"handleInternalChanges",value:function(){var t=Object(c.a)(ft().mark(function t(){var e=this;return ft().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(d.d)(Object(c.a)(ft().mark(function t(){return ft().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.checkForRandomnessAndMeasures();case 2:case"end":return t.stop()}},t)})))();case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}]),t}(),dt=n(398),vt=n(396);function yt(){yt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new D(r||[]);return o(i,"_invoke",{value:j(t,n,c)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function w(){}var b={};s(b,i,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(_([])));E&&E!==n&&r.call(E,i)&&(b=E);var O=w.prototype=m.prototype=Object.create(b);function L(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function S(t,e){function n(o,a,i,c){var u=h(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(l).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e(function(e,o){n(t,r,e,o)})}return a=a?a.then(o,o):o()}})}function j(e,n,r){var o=f;return function(a,i){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=k(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=h(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function k(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function _(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},L(S.prototype),s(S.prototype,c,function(){return this}),e.AsyncIterator=S,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new S(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(O),s(O,u,"Generator"),s(O,i,function(){return this}),s(O,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=_,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var mt=Object(v.a)(function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).ref=void 0,n.store=void 0,n.notificationManager=void 0,n.state={hasError:!1,isLoaded:!1,showingInfo:!1,collectionInProgress:!1},n.ref=o.a.createRef(),n.store=new lt,n.notificationManager=new pt(n.store),n.restorePluginFromStore=n.restorePluginFromStore.bind(Object(p.a)(Object(p.a)(n))),n.getPluginStore=n.getPluginStore.bind(Object(p.a)(Object(p.a)(n))),S.on("update","interactiveState","",n.restorePluginFromStore),S.on("get","interactiveState","",n.getPluginStore),n}return Object(f.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=Object(c.a)(yt().mark(function t(){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(W,Z,K,this.restorePluginFromStore);case 2:return t.next=4,this.store.initialize();case 4:this.setState({isLoaded:!0});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidCatch",value:function(t,e){console.log(t,e)}},{key:"getPluginStore",value:function(){return{success:!0,values:{store:this.store.asJSON()}}}},{key:"restorePluginFromStore",value:function(){var t=Object(c.a)(yt().mark(function t(e){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e&&this.store.fromJSON(e.store);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"rerandomize",value:function(){var t=Object(c.a)(yt().mark(function t(){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.store.chosenSourceDataset){t.next=3;break}return t.next=3,S.sendRequest({action:"update",resource:N(this.store.chosenSourceDataset.name||""),values:{rerandomize:!0}}).catch(function(t){console.log("unable to rerandomize because "+t)});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"collectMeasuresOnce",value:function(){var t=Object(c.a)(yt().mark(function t(){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt(this.store.collectMeasuresDataset);case 2:return t.next=4,nt(this.store);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"repeatedMeasuresCollection",value:function(){var t=Object(c.a)(yt().mark(function t(){var e,n;return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({collectionInProgress:!0}),e=!0,n=this.store.numberOfRepetitions;case 3:if(!(n>0&&(this.state.collectionInProgress||e))){t.next=12;break}return e=!1,t.next=7,this.rerandomize();case 7:return t.next=9,this.collectMeasuresOnce();case 9:n--,t.next=3;break;case 12:this.setState({collectionInProgress:!1});case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getAppropriateButton",value:function(){var t=this,e=this.store,n=e.chosenSourceDataset?e.chosenSourceDataset.title:"";return this.state.collectionInProgress?o.a.createElement("button",{onClick:function(){t.setState({collectionInProgress:!1})}},"Stop Collecting Measures"):o.a.createElement("button",{disabled:!e.chosenHasRandomness||!e.chosenHasMeasures,onClick:function(){t.repeatedMeasuresCollection()}},"Re-randomize and Collect Measures ".concat(e.numberOfRepetitions," Times from ").concat(n))}},{key:"rerandomizeNote",value:function(){return this.store.chosenSourceDataset?this.store.chosenHasRandomness?null:o.a.createElement("p",{className:"note"},"Nothing in dataset to randomize"):o.a.createElement("p",{className:"note"},"No dataset chosen")}},{key:"collectMeasuresNote",value:function(){return this.store.chosenSourceDataset?this.store.chosenHasMeasures?null:o.a.createElement("p",{className:"note"},"No measures in dataset to collect"):o.a.createElement("p",{className:"note"},"No dataset chosen")}},{key:"infoPage",value:function(){var t=this;return o.a.createElement("div",{className:"cm-info"},o.a.createElement("h3",null,"About Collect Measures"),o.a.createElement("p",null,"This plugin is useful for creating certain classes of simulations in CODAP."),o.a.createElement("ul",null,o.a.createElement("li",null,"There is a dataset with attributes with formulas using random functions."),o.a.createElement("li",null,"The dataset has two collections."),o.a.createElement("li",null,'The collection on the left has attributes that compute "measures" from the cases in the collection on the right.')),o.a.createElement("p",null,o.a.createElement("b",null,"Example"),": The collection on the right has 10 cases and one attribute, ",o.a.createElement("b",null,"Face"),", whose formula is ",o.a.createElement("code",null,"randomPick(1,2,3,4,5,6)"),'. The collection on the left has one attribute, "Sum", with the formula ',o.a.createElement("code",null,"sum(Face)"),". The plugin collects the sum of the faces of the 10 dice to build up the distribution of sums."),o.a.createElement("button",{onClick:function(){return t.setState({showingInfo:!1})}},"Back"))}},{key:"render",value:function(){var t=this,e=this.store,n=e.chosenSourceDataset?e.chosenSourceDataset.title:"";return this.state.hasError?o.a.createElement("h1",null,"Something went wrong!"):this.state.showingInfo?o.a.createElement("div",null,this.infoPage()):o.a.createElement("div",{className:"collect-measures"},o.a.createElement("div",{className:"cm-header"},o.a.createElement("div",{className:"cm-title-with-icon"},o.a.createElement("h2",null,"Collect Measures"),o.a.createElement("div",{className:"cm-info-icon",onClick:function(){return t.setState({showingInfo:!0})}},o.a.createElement(dt.a,{icon:vt.a,title:"Click to get information on how to use this plugin"}))),o.a.createElement("p",null,"Choose a dataset, typically one that has attributes with formulas that produce random values.")),function(){function t(){return(t=Object(c.a)(yt().mark(function t(n){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.chosenSourceDataset=e.availableSourceDatasets.find(function(t){return t.title===n});case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}var r,a,i,u,s,l,h,f=e.availableSourceDatasets.map(function(t){return t.title});return r="Choose a dataset",a="Choose from",i="Choose a dataset to be rerandomized and whose measures will be collected",u=f,s=n,l="No datasets to choose from",h=function(e){return t.apply(this,arguments)},o.a.createElement("div",{className:"sq-choice"},o.a.createElement("span",null,r,":"),o.a.createElement(X.SelectBox,{dataSource:u,placeholder:a,hint:i,value:s,noDataText:l,style:{display:"inline-block"},onValueChange:Object(d.d)(function(){var t=Object(c.a)($().mark(function t(e){return $().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h(e));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),width:"100%"}))}(),o.a.createElement("div",{className:"cm-two-buttons"},o.a.createElement("div",null,o.a.createElement("button",{disabled:!e.chosenHasRandomness,onClick:function(){t.rerandomize()}},"Re-randomize ".concat(n)),this.rerandomizeNote()),o.a.createElement("div",null,o.a.createElement("button",{disabled:!e.chosenHasMeasures,onClick:function(){t.collectMeasuresOnce()}},"Collect Measures Once from ".concat(n)),this.collectMeasuresNote())),o.a.createElement("div",{className:"cm-number-box"},o.a.createElement("span",null,"Number of repetitions"),o.a.createElement(ht.NumberBox,{height:25,width:50,defaultValue:e.numberOfRepetitions,onValueChanged:function(){var t=Object(c.a)(yt().mark(function t(n){return yt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(d.d)(function(){e.numberOfRepetitions=n.value})();case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()})),this.getAppropriateButton())}}]),e}(r.Component));i.a.render(o.a.createElement(mt,null),document.getElementById("root"))}},[[399,1,2]]]);
//# sourceMappingURL=main.0ef198cc.chunk.js.map